<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2014-10-31 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>INDI for Java &#x2013; </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20141031" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                                                <img src="images/icon64.png" alt="$alt" />
                </div>
                          <div id="bannerRight">
                                                <img src="images/INDIforJavaLogo64.png" alt="$alt" />
                </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2014-10-31</span>
                          |                           <a href="../index.html" title="INDI for Java">INDI for Java</a>
        &gt;
                          <a href="index.html" title="A Robust 3D Convex Hull Algorithm in Java">A Robust 3D Convex Hull Algorithm in Java</a>
        &gt;
    
              </div>
            <div class="xright">        
                    
                 <span id="projectVersion">Version: 1.0.0-SNAPSHOT</span>
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                            <li class="expanded">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                    <ul>
                      <li class="none">
            <strong>About</strong>
          </li>
                      <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
                      <li class="none">
                          <a href="team-list.html" title="Project Team">Project Team</a>
            </li>
                      <li class="none">
                          <a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
                      <li class="none">
                          <a href="integration.html" title="Continuous Integration">Continuous Integration</a>
            </li>
                      <li class="none">
                          <a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
            </li>
                      <li class="none">
                          <a href="license.html" title="Project License">Project License</a>
            </li>
                      <li class="none">
                          <a href="source-repository.html" title="Source Repository">Source Repository</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                               <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
                       
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div id="apt-box">
<div class="section">
<h2><a name="Computes_the_convex_hull_of_a_set_of_three_dimensional_points."></a>Computes the convex hull of a set of three dimensional points.</h2>
<p>The algorithm is a three dimensional implementation of Quickhull, as described in Barber, Dobkin, and Huhdanpaa, <a class="externalLink" href="http://citeseer.ist.psu.edu/barber96quickhull.html"> ``The Quickhull Algorithm for Convex Hulls''</a> (ACM Transactions on Mathematical Software, Vol. 22, No. 4, December 1996), and has a complexity of O(n log(n)) with respect to the number of points. A well-known C implementation of Quickhull that works for arbitrary dimensions is provided by <a class="externalLink" href="http://www.qhull.org">qhull</a>.</p>
<p>A hull is constructed by providing a set of points to either a constructor or a build(Point3d[]) method. After the hull is built, its vertices and faces can be retrieved using getVertices() and getFaces(). A typical usage might look like this:</p><style type="text/css">
   @import url('attached-includes/css/shCoreDefault.css');
</style>
<div id="highlighter_502605" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number40 index0 alt1">40</div><div class="line number41 index1 alt2">41</div><div class="line number42 index2 alt1">42</div><div class="line number43 index3 alt2">43</div><div class="line number44 index4 alt1">44</div><div class="line number45 index5 alt2">45</div><div class="line number46 index6 alt1">46</div><div class="line number47 index7 alt2">47</div><div class="line number48 index8 alt1">48</div><div class="line number49 index9 alt2">49</div><div class="line number50 index10 alt1">50</div><div class="line number51 index11 alt2">51</div><div class="line number52 index12 alt1">52</div><div class="line number53 index13 alt2">53</div><div class="line number54 index14 alt1">54</div><div class="line number55 index15 alt2">55</div><div class="line number56 index16 alt1">56</div><div class="line number57 index17 alt2">57</div><div class="line number58 index18 alt1">58</div><div class="line number59 index19 alt2">59</div><div class="line number60 index20 alt1">60</div><div class="line number61 index21 alt2">61</div><div class="line number62 index22 alt1">62</div><div class="line number63 index23 alt2">63</div><div class="line number64 index24 alt1">64</div><div class="line number65 index25 alt2">65</div><div class="line number66 index26 alt1">66</div><div class="line number67 index27 alt2">67</div><div class="line number68 index28 alt1">68</div><div class="line number69 index29 alt2">69</div><div class="line number70 index30 alt1">70</div></td><td class="code"><div class="container"><div class="line number40 index0 alt1"><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java keyword">void</code> <code class="java plain">main(String[] args) {</code></div><div class="line number41 index1 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// x y z coordinates of 6 points</code></div><div class="line number42 index2 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Point3d[] points = </code><code class="java keyword">new</code> <code class="java plain">Point3d[]{</code></div><div class="line number43 index3 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">Point3d(</code><code class="java value">0.0</code><code class="java plain">, </code><code class="java value">0.0</code><code class="java plain">, </code><code class="java value">0.0</code><code class="java plain">),</code></div><div class="line number44 index4 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">Point3d(</code><code class="java value">1.0</code><code class="java plain">, </code><code class="java value">0.5</code><code class="java plain">, </code><code class="java value">0.0</code><code class="java plain">),</code></div><div class="line number45 index5 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">Point3d(</code><code class="java value">2.0</code><code class="java plain">, </code><code class="java value">0.0</code><code class="java plain">, </code><code class="java value">0.0</code><code class="java plain">),</code></div><div class="line number46 index6 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">Point3d(</code><code class="java value">0.5</code><code class="java plain">, </code><code class="java value">0.5</code><code class="java plain">, </code><code class="java value">0.5</code><code class="java plain">),</code></div><div class="line number47 index7 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">Point3d(</code><code class="java value">0.0</code><code class="java plain">, </code><code class="java value">0.0</code><code class="java plain">, </code><code class="java value">2.0</code><code class="java plain">),</code></div><div class="line number48 index8 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">Point3d(</code><code class="java value">0.1</code><code class="java plain">, </code><code class="java value">0.2</code><code class="java plain">, </code><code class="java value">0.3</code><code class="java plain">),</code></div><div class="line number49 index9 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">new</code> <code class="java plain">Point3d(</code><code class="java value">0.0</code><code class="java plain">, </code><code class="java value">2.0</code><code class="java plain">, </code><code class="java value">0.0</code><code class="java plain">),</code></div><div class="line number50 index10 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">};</code></div><div class="line number51 index11 alt2">&nbsp;</div><div class="line number52 index12 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">QuickHull3D hull = </code><code class="java keyword">new</code> <code class="java plain">QuickHull3D();</code></div><div class="line number53 index13 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">hull.build(points);</code></div><div class="line number54 index14 alt1">&nbsp;</div><div class="line number55 index15 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"Vertices:"</code><code class="java plain">);</code></div><div class="line number56 index16 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Point3d[] vertices = hull.getVertices();</code></div><div class="line number57 index17 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; vertices.length; i++) {</code></div><div class="line number58 index18 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Point3d pnt = vertices[i];</code></div><div class="line number59 index19 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(pnt.x + </code><code class="java string">" "</code> <code class="java plain">+ pnt.y + </code><code class="java string">" "</code> <code class="java plain">+ pnt.z);</code></div><div class="line number60 index20 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number61 index21 alt2">&nbsp;</div><div class="line number62 index22 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"Faces:"</code><code class="java plain">);</code></div><div class="line number63 index23 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code><code class="java plain">[][] faceIndices = hull.getFaces();</code></div><div class="line number64 index24 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i = </code><code class="java value">0</code><code class="java plain">; i &lt; vertices.length; i++) {</code></div><div class="line number65 index25 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code> <code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">k = </code><code class="java value">0</code><code class="java plain">; k &lt; faceIndices[i].length; k++) {</code></div><div class="line number66 index26 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.print(faceIndices[i][k] + </code><code class="java string">" "</code><code class="java plain">);</code></div><div class="line number67 index27 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number68 index28 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">""</code><code class="java plain">);</code></div><div class="line number69 index29 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number70 index30 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div>
<p>As a convenience, there are also build(double[]) and getVertices(double[]) methods which pass point information using an array of doubles.</p>
<div class="section">
<h3><a name="Robustness"></a>Robustness</h3>
<p>Because this algorithm uses floating point arithmetic, it is potentially vulnerable to errors arising from numerical imprecision. We address this problem in the same way as <a class="externalLink" href="http://www.qhull.org">qhull</a>, by merging faces whose edges are not clearly convex. A face is convex if its edges are convex, and an edge is convex if the centroid of each adjacent plane is clearly below the plane of the other face. The centroid is considered below a plane if its distance to the plane is less than the negative of a getDistanceTolerance(). This tolerance represents the smallest distance that can be reliably computed within the available numeric precision. It is normally computed automatically from the point data, although an application may setExplicitDistanceTolerance set this tolerance explicitly.</p>
<p>Numerical problems are more likely to arise in situations where data points lie on or within the faces or edges of the convex hull. We have tested QuickHull3D for such situations by computing the convex hull of a random point set, then adding additional randomly chosen points which lie very close to the hull vertices and edges, and computing the convex hull again. The hull is deemed correct if check returns true. These tests have been successful for a large number of trials and so we are confident that QuickHull3D is reasonably robust.</p></div>
<div class="section">
<h3><a name="Merged_Faces"></a>Merged Faces</h3>
<p>The merging of faces means that the faces returned by QuickHull3D may be convex polygons instead of triangles. If triangles are desired, the application may triangulate the faces, but it should be noted that this may result in triangles which are very small or thin and hence difficult to perform reliable convexity tests on. In other words, triangulating a merged face is likely to restore the numerical problems which the merging process removed. Hence is it possible that, after triangulation, <a name="alink_check_check">@link #check check</a> will fail (the same behavior is observed with triangulated output from <a class="externalLink" href="http://www.qhull.org">qhull</a>).</p></div>
<div class="section">
<h3><a name="Degenerate_Input"></a>Degenerate Input</h3>
<p>It is assumed that the input points are non-degenerate in that they are not coincident, colinear, or colplanar, and thus the convex hull has a non-zero volume. If the input points are detected to be degenerate within the getDistanceTolerance(), an IllegalArgumentException will be thrown.</p></div>
</div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2004&#x2013;2014
                      John E. Lloyd.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
